<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Opening UKDS datasets in R | UKDS-intro-to-R.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Opening UKDS datasets in R | UKDS-intro-to-R.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Opening UKDS datasets in R | UKDS-intro-to-R.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="using-r-essential-information.html"/>
<link rel="next" href="essentials-of-data-manipulation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">UKDS Introduction to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-is-r"><i class="fa fa-check"></i><b>1.1</b> What is R ?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html"><i class="fa fa-check"></i><b>2</b> Using R: essential information</a>
<ul>
<li class="chapter" data-level="2.1" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html#download-and-installation"><i class="fa fa-check"></i><b>2.1</b> Download and installation</a></li>
<li class="chapter" data-level="2.2" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html#installing-and-setting-up-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installing and setting up RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html#interacting-with-r"><i class="fa fa-check"></i><b>2.3</b> Interacting with R</a></li>
<li class="chapter" data-level="2.4" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html#installing-and-loading-packages"><i class="fa fa-check"></i><b>2.4</b> Installing and loading packages</a></li>
<li class="chapter" data-level="2.5" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html#getting-help"><i class="fa fa-check"></i><b>2.5</b> Getting help</a></li>
<li class="chapter" data-level="2.6" data-path="using-r-essential-information.html"><a href="using-r-essential-information.html#objects"><i class="fa fa-check"></i><b>2.6</b> Objects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="opening-ukds-datasets-in-r.html"><a href="opening-ukds-datasets-in-r.html"><i class="fa fa-check"></i><b>3</b> Opening UKDS datasets in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="opening-ukds-datasets-in-r.html"><a href="opening-ukds-datasets-in-r.html#essential-information"><i class="fa fa-check"></i><b>3.1</b> Essential information</a></li>
<li class="chapter" data-level="3.2" data-path="opening-ukds-datasets-in-r.html"><a href="opening-ukds-datasets-in-r.html#the-2017-british-social-attitudes-survey"><i class="fa fa-check"></i><b>3.2</b> The 2017 British Social Attitudes Survey</a></li>
<li class="chapter" data-level="3.3" data-path="opening-ukds-datasets-in-r.html"><a href="opening-ukds-datasets-in-r.html#understanding-the-dataset"><i class="fa fa-check"></i><b>3.3</b> Understanding the dataset</a></li>
<li class="chapter" data-level="3.4" data-path="opening-ukds-datasets-in-r.html"><a href="opening-ukds-datasets-in-r.html#identifying-and-selecting-variables"><i class="fa fa-check"></i><b>3.4</b> Identifying and selecting variables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html"><i class="fa fa-check"></i><b>4</b> Essentials of Data Manipulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#creating-and-transforming-numerical-variables"><i class="fa fa-check"></i><b>4.1</b> Creating and transforming numerical variables</a></li>
<li class="chapter" data-level="4.2" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#categorical-variables"><i class="fa fa-check"></i><b>4.2</b> Categorical variables</a></li>
<li class="chapter" data-level="4.3" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#recoding-variables"><i class="fa fa-check"></i><b>4.3</b> Recoding variables</a></li>
<li class="chapter" data-level="4.4" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#missing-values"><i class="fa fa-check"></i><b>4.4</b> Missing Values</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#inspecting-missing-data"><i class="fa fa-check"></i><b>4.4.1</b> Inspecting missing data</a></li>
<li class="chapter" data-level="4.4.2" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#recoding-missing-values-as-na-continuous-variables"><i class="fa fa-check"></i><b>4.4.2</b> Recoding missing values as NA (continuous variables)</a></li>
<li class="chapter" data-level="4.4.3" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#working-with-missing-values"><i class="fa fa-check"></i><b>4.4.3</b> Working with missing values</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="essentials-of-data-manipulation.html"><a href="essentials-of-data-manipulation.html#subsetting-datasets"><i class="fa fa-check"></i><b>4.5</b> Subsetting datasets</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>5</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#continuous-variables"><i class="fa fa-check"></i><b>5.1</b> Continuous variables</a></li>
<li class="chapter" data-level="5.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#bivariate-association-between-continuous-variables"><i class="fa fa-check"></i><b>5.2</b> Bivariate association between continuous variables</a></li>
<li class="chapter" data-level="5.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#categorical-variables-1"><i class="fa fa-check"></i><b>5.3</b> Categorical Variables</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#one-way-frequency-tables"><i class="fa fa-check"></i><b>5.3.1</b> One way frequency tables</a></li>
<li class="chapter" data-level="5.3.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#two-way-or-more-contingency-table"><i class="fa fa-check"></i><b>5.3.2</b> Two way or more contingency table</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#grouped-summary-statistics-for-continuous-variables"><i class="fa fa-check"></i><b>5.4</b> Grouped summary statistics for continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="producing-weighted-estimates.html"><a href="producing-weighted-estimates.html"><i class="fa fa-check"></i><b>6</b> Producing weighted estimates</a>
<ul>
<li class="chapter" data-level="6.1" data-path="producing-weighted-estimates.html"><a href="producing-weighted-estimates.html#central-tendency-and-dispersion-continuous-variables"><i class="fa fa-check"></i><b>6.1</b> Central tendency and dispersion (continuous variables)</a></li>
<li class="chapter" data-level="6.2" data-path="producing-weighted-estimates.html"><a href="producing-weighted-estimates.html#frequencies-and-contingency-tables"><i class="fa fa-check"></i><b>6.2</b> Frequencies and contingency tables</a></li>
<li class="chapter" data-level="6.3" data-path="producing-weighted-estimates.html"><a href="producing-weighted-estimates.html#robust-inference"><i class="fa fa-check"></i><b>6.3</b> Robust inference</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphs-and-plots.html"><a href="graphs-and-plots.html"><i class="fa fa-check"></i><b>7</b> Graphs and plots</a>
<ul>
<li class="chapter" data-level="7.1" data-path="graphs-and-plots.html"><a href="graphs-and-plots.html#distributional-graphs-for-continuous-variables"><i class="fa fa-check"></i><b>7.1</b> Distributional graphs for continuous variables</a></li>
<li class="chapter" data-level="7.2" data-path="graphs-and-plots.html"><a href="graphs-and-plots.html#plotting-categorical-variables"><i class="fa fa-check"></i><b>7.2</b> Plotting categorical variables</a></li>
<li class="chapter" data-level="7.3" data-path="graphs-and-plots.html"><a href="graphs-and-plots.html#more-advanced-plots"><i class="fa fa-check"></i><b>7.3</b> More advanced plots</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="statistical-testing.html"><a href="statistical-testing.html"><i class="fa fa-check"></i><b>8</b> Statistical testing</a>
<ul>
<li class="chapter" data-level="8.1" data-path="statistical-testing.html"><a href="statistical-testing.html#differences-in-means"><i class="fa fa-check"></i><b>8.1</b> Differences in means</a></li>
<li class="chapter" data-level="8.2" data-path="statistical-testing.html"><a href="statistical-testing.html#differences-in-variance"><i class="fa fa-check"></i><b>8.2</b> Differences in variance</a></li>
<li class="chapter" data-level="8.3" data-path="statistical-testing.html"><a href="statistical-testing.html#significance-of-measures-of-association"><i class="fa fa-check"></i><b>8.3</b> Significance of measures of association</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression-analysis.html"><a href="regression-analysis.html"><i class="fa fa-check"></i><b>9</b> Regression analysis</a></li>
<li class="chapter" data-level="10" data-path="further-information.html"><a href="further-information.html"><i class="fa fa-check"></i><b>10</b> Further information</a>
<ul>
<li class="chapter" data-level="10.1" data-path="further-information.html"><a href="further-information.html#additional-commands-of-interest"><i class="fa fa-check"></i><b>10.1</b> Additional commands of interest</a></li>
<li class="chapter" data-level="10.2" data-path="further-information.html"><a href="further-information.html#additional-online-resources"><i class="fa fa-check"></i><b>10.2</b> Additional online resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References</a></li>
<li class="divider"></li>
<li><a href="https://ukdataservice.ac.uk" target="blank">UK Data Service</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="opening-ukds-datasets-in-r" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Opening UKDS datasets in R<a href="opening-ukds-datasets-in-r.html#opening-ukds-datasets-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="essential-information" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Essential information<a href="opening-ukds-datasets-in-r.html#essential-information" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In principle, any dataset whether in CSV, SPSS, SAS, or Stata format can be opened by R. There are a number of issues to consider however:</p>
<ul>
<li><p>The <code>foreign</code> package has been traditionally used to import SPSS and Stata datasets into R:</p>
<ul>
<li><code>read.spss()</code> and <code>write.spss()</code> respectively open and write .sav files. Given that both were developed from older versions of SPSS, it is therefore advised to check that their outcome is as expected. In addition
<ul>
<li><code>read.spss()</code> does not store the data in a R data frame by default and will require the option <code>to.data.frame=T</code> to be specified.</li>
<li><code>read.spss()</code> may sometimes struggle with some numeric format and wrongly attempt to convert them as factor, which will result in error messages. It is therefore advised to limit the maximum number of levels that will be considered when converting factors by using the option <code>max.value.labels=</code></li>
</ul></li>
<li><code>read.dta()</code> and <code>write.dta()</code> respectively open and write Stata files up to version 12. An option to watch for is <code>convert.factor=T/F</code> which either will import Stata categorical variable as their underlying numeric value or instead will convert them into factors,
using value labels as levels, which may be an issue for categorical variables with a large number of levels. Users have to bear in mind that the labels will by default sorted alphabetically, .</li>
</ul></li>
<li><p>The <code>readstata13</code> package opens Stata datasets from version 13 onwards with the <code>read.dta13()</code> function and offers a more comprehensive set of options. <code>convert.factor=T/F</code> has the same effect as in <code>read.dta()</code> from <code>foreign</code>.</p></li>
<li><p>Data frames created with either <code>read.dta()</code> or <code>read.dta13()</code> have extra information stored as attributes, which maybe useful to retrieve. For instance:</p></li>
</ul>
<pre><code>&gt; mydata&lt;-read.dta(&quot;Some_Stata_dataset.dta&quot;)
&gt; attributes(mydata)$var.labels   ### Retrieves the original Stata variable labels</code></pre>
<ul>
<li>Finally the <code>haven</code> package opens SPSS, Stata and SAS files with respectively <code>read_spss()</code>, <code>read_dta()</code> and <code>read_sas()</code>. By contrast with the other two packages, it relies on ad hoc data formats and data structures for converting labelled categorical variables and attempts to mimic Stata’s value and variable labels. More information is available <a href="https://haven.tidyverse.org/reference/read_dta.html">here</a>.</li>
</ul>
<p>In order not to overcomplicate their initial exploration of R we recommend new users to use <code>read.spss()</code> or <code>read.dta13()</code> when importing datasets from either SPSS or Stata, rather than the more elaborate functions available in <code>haven</code>.</p>
</div>
<div id="the-2017-british-social-attitudes-survey" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> The 2017 British Social Attitudes Survey<a href="opening-ukds-datasets-in-r.html#the-2017-british-social-attitudes-survey" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For the rest of this guide, we will use the <code>British Social Attitudes Survey, 2017, Environment and Politics: Open Access Teaching Dataset</code>, which can be downloaded from the <a href="https://beta.ukdataservice.ac.uk/datacatalogue/studies/study?id=8849">UK Data Service website</a>. We will use the SPSS version of the dataset, which will be assumed to be saved in a <code>UKDS</code> folder created inside <code>Documents</code> folder. <code>C:\\Users\\Your_User_Name_Here\\Documents</code> We will set this as default working directory. This way, we won’t have to specify the full path of files that we will be opening or saving.</p>
<p>We can finally open the file:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="opening-ukds-datasets-in-r.html#cb63-1" tabindex="-1"></a> bsa<span class="ot">&lt;-</span><span class="fu">read.spss</span>(<span class="st">&quot;data/8849spss_73589506FAA92AEFC9646C684CD2427012F90FA9F6541F3BE46E4BE1A047987C_V1/bsa2017_open_enviropol.sav&quot;</span>, <span class="at">to.data.frame =</span> <span class="cn">TRUE</span>,</span>
<span id="cb63-2"><a href="opening-ukds-datasets-in-r.html#cb63-2" tabindex="-1"></a>          <span class="at">use.value.labels=</span><span class="cn">TRUE</span>,<span class="at">max.value.labels =</span> <span class="dv">9</span>)  </span></code></pre></div>
<pre><code>## re-encoding from CP1252</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="opening-ukds-datasets-in-r.html#cb65-1" tabindex="-1"></a><span class="fu">dim</span>(bsa)</span></code></pre></div>
<pre><code>## [1] 3988   25</code></pre>
</div>
<div id="understanding-the-dataset" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Understanding the dataset<a href="opening-ukds-datasets-in-r.html#understanding-the-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As previously, we can find the number of observations and variables in the dataset by typing the following:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="opening-ukds-datasets-in-r.html#cb67-1" tabindex="-1"></a><span class="fu">dim</span>(bsa)</span></code></pre></div>
<pre><code>## [1] 3988   25</code></pre>
<p>We can see that there are 3,988 observations and 25 variables in the BSA dataset.</p>
<p>Typing:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="opening-ukds-datasets-in-r.html#cb69-1" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;a&quot;               &quot;b&quot;               &quot;bsa&quot;             &quot;bsa.design&quot;      &quot;bsa.young&quot;       &quot;bsa.young.males&quot; &quot;dev.d&quot;          
##  [8] &quot;df.d&quot;            &quot;fit1&quot;            &quot;fit2&quot;            &quot;m&quot;               &quot;mydata&quot;          &quot;p&quot;               &quot;pa&quot;             
## [15] &quot;party.tab&quot;       &quot;rm&quot;</code></pre>
<p>will show us that the object ‘bsa’ has appeared, but what if we want to get the list of all variables in the dataset? We need to type:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="opening-ukds-datasets-in-r.html#cb71-1" tabindex="-1"></a><span class="fu">ls</span>(bsa)</span></code></pre></div>
<pre><code>##  [1] &quot;actchar&quot;          &quot;actpol&quot;           &quot;carallow&quot;         &quot;carenvdc&quot;         &quot;carnod2&quot;          &quot;carreduc&quot;         &quot;cartaxhi&quot;        
##  [8] &quot;CCBELIEV&quot;         &quot;ChildHh&quot;          &quot;eq_inc_quintiles&quot; &quot;govnosa2&quot;         &quot;HEdQual3&quot;         &quot;leftrigh&quot;         &quot;libauth&quot;         
## [15] &quot;Married&quot;          &quot;PartyId2&quot;         &quot;plnenvt&quot;          &quot;plnuppri&quot;         &quot;Politics&quot;         &quot;RAgeCat&quot;          &quot;RClassGp&quot;        
## [22] &quot;Rsex&quot;             &quot;Sserial&quot;          &quot;Voted&quot;            &quot;WtFactor&quot;</code></pre>
<p>If we want to get a better sense of the data, we use the <code>head()</code> function which will return the first six rows.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="opening-ukds-datasets-in-r.html#cb73-1" tabindex="-1"></a><span class="fu">head</span>(bsa)</span></code></pre></div>
<pre><code>##   Sserial   Rsex RAgeCat                   Married ChildHh                         HEdQual3                          eq_inc_quintiles
## 1  290001   Male   35-44 Married/living as married     Yes             O level or equiv/CSE 3rd quintile - More than £292, up to £404
## 2  290002 Female     65+        Separated/divorced      No Higher educ below degree/A level                                      &lt;NA&gt;
## 3  290003 Female   45-54 Married/living as married     Yes                           Degree 3rd quintile - More than £292, up to £404
## 4  290004 Female   45-54 Married/living as married     Yes                           Degree 3rd quintile - More than £292, up to £404
## 5  290005   Male     65+             Never married      No Higher educ below degree/A level 4th quintile - More than £404, up to £577
## 6  290006 Female   25-34             Never married     Yes Higher educ below degree/A level              Lowest quintile - Up to £175
##                                    RClassGp                                                                                         CCBELIEV
## 1 Lower supervisory &amp; technical occupations               I believe that climate change is taking place but not as a result of human actions
## 2        Semi-routine &amp; routine occupations I believe that climate change is taking place and is, at least partly, a result of human actions
## 3          Managerial &amp; professional occups                                                                                             &lt;NA&gt;
## 4          Managerial &amp; professional occups                                                                                             &lt;NA&gt;
## 5          Managerial &amp; professional occups                                                                                             &lt;NA&gt;
## 6          Managerial &amp; professional occups                                                                                             &lt;NA&gt;
##   carallow carreduc carnod2 cartaxhi carenvdc plnenvt plnuppri          Politics Voted               actchar                actpol
## 1     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;             some,   Yes                 never                 never
## 2     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt; ... a great deal,   Yes                  &lt;NA&gt;                  &lt;NA&gt;
## 3     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;             some,   Yes                  &lt;NA&gt;                  &lt;NA&gt;
## 4     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt; ... a great deal,   Yes once in the past year once in the past year
## 5     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;    not very much,   Yes                  &lt;NA&gt;                  &lt;NA&gt;
## 6     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt;    &lt;NA&gt;     &lt;NA&gt;    not very much,   Yes                  &lt;NA&gt;                  &lt;NA&gt;
##                     govnosa2         PartyId2 leftrigh  libauth  WtFactor
## 1                      agree           Labour      1.0 4.500000 0.9380587
## 2                   disagree           Labour      1.8 4.333333 0.6844214
## 3                       &lt;NA&gt;           Labour       NA       NA 0.9060821
## 4                      agree           Labour      1.5 2.500000 1.3085513
## 5                       &lt;NA&gt; Liberal Democrat      2.0 3.166667 0.4392823
## 6 neither agree nor disagree             &lt;NA&gt;      3.0 3.000000 0.5695720</code></pre>
<p>Single variables for example, <code>Rsex</code> (gender of respondents) may be also summarised with <code>head()</code>, which returns as previously the first six observations of the gender variable, whereas typing</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="opening-ukds-datasets-in-r.html#cb75-1" tabindex="-1"></a><span class="fu">head</span>(bsa<span class="sc">$</span>Rsex)</span></code></pre></div>
<pre><code>## [1] Male   Female Female Female Male   Female
## Levels: Male Female</code></pre>
<p>Simply typing the name of a variable as in:</p>
<pre><code>bsa$Rsex</code></pre>
<p>will list the first 1000 observations of the variable. Other commands provide more useful information, such as <code>summary()</code>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="opening-ukds-datasets-in-r.html#cb78-1" tabindex="-1"></a><span class="fu">summary</span>(bsa<span class="sc">$</span>Rsex)</span></code></pre></div>
<pre><code>##   Male Female 
##   1806   2182</code></pre>
<p>Summary is a generic function that tailors the most appropriate output to an object class. As Rsex is a categorical variable. The output of summary() is identical to what we would have obtained with the default tabulation fuction <code>table()</code>:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="opening-ukds-datasets-in-r.html#cb80-1" tabindex="-1"></a><span class="fu">table</span>(bsa<span class="sc">$</span>Rsex)</span></code></pre></div>
<pre><code>## 
##   Male Female 
##   1806   2182</code></pre>
<p>When encountering a continuous variable, <code>summary()</code> will compute basic descriptive statistics (mean, median, quartiles, maximum and minimum). For example, in the case of the libertarian-authoritarian scale <code>libauth</code>:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="opening-ukds-datasets-in-r.html#cb82-1" tabindex="-1"></a><span class="fu">summary</span>(bsa<span class="sc">$</span>libauth)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##   1.167   3.000   3.500   3.511   4.000   5.000     775</code></pre>
</div>
<div id="identifying-and-selecting-variables" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Identifying and selecting variables<a href="opening-ukds-datasets-in-r.html#identifying-and-selecting-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As we have already seen, variables are objects. R automatically stores variables using the appropriate object class. Categorical variables are ‘Factors’ with ‘Levels’ as categories within these, while continuous variables are ‘Numeric’ types of objects.
The <code>class()</code> displays the type of an object:.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="opening-ukds-datasets-in-r.html#cb84-1" tabindex="-1"></a><span class="fu">class</span>(bsa<span class="sc">$</span>Rsex)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>The levels() function returns the categories of the variable.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="opening-ukds-datasets-in-r.html#cb86-1" tabindex="-1"></a><span class="fu">levels</span>(bsa<span class="sc">$</span>Rsex)</span></code></pre></div>
<pre><code>## [1] &quot;Male&quot;   &quot;Female&quot;</code></pre>
<div style="page-break-after: always;"></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="using-r-essential-information.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="essentials-of-data-manipulation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PierreWal/UKDS_RGuide/main/03-Opening.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["UKDS-intro-to-R.pdf", "UKDS-intro-to-R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
